<nb-card>
    <nb-card-header> {{ accion }} Lote </nb-card-header>

    <nb-card-body>
        <form [formGroup]="form" *ngIf="form">
            <!-- Document type and number -->
            <div class="row">
                <div class="col-sm-8">
                    <div class="form-group  tooltip-danger">
                        <label>Nombre Lote</label>
                        <input
                                placement="bottom"
                                triggers="focus keyup keydown"
                                type="text"
                                formControlName="nombre"
                                class="form-control"
                                id="nombre"
                                placeholder="Nombre Lote"

                                />
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="form-group  tooltip-danger">
                        <label>Precio Base</label>
                        <input
                                placement="bottom"
                                triggers="focus keyup keydown"
                                type="text"
                                formControlName="precio"
                                class="form-control"
                                id="precio"
                                placeholder="Precio"
                                />
                    </div>
                </div>
                <div class="col-6 col-sm-4 col-md-3 col-lg-2">
                    <div class="form-group">
                        <ac-upload
                                [img]="imagen"
                                (status)="loadedImage($event)" >
                        </ac-upload>
                        <h5 class="col-form-label text-heading"
                            style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                            for="nombre"
                            [title]="imagen" >
                            {{ imagen}}
                        </h5>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="row">
                        <div class="col-sm-6" style="">
                            <div class="form-group">
                                <label>Fecha Inicio</label>
                                <div class="btn-group">
                                    <input
                                            class="form-control"
                                            placeholder="dd/mm/aaaa"
                                            name="dp"
                                            ngbDatepicker
                                            #d="ngbDatepicker"
                                            [(ngModel)]="fecha_inicio"
                                            [ngModelOptions]="{standalone: true}"/>
                                    <button
                                            class="btn btn-primary btn-group-icon btn-group-divider"
                                            (click)="d.toggle()">
                                        <i class="fa fa-calendar" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!--<div class="col-sm-3">-->
                            <!--<div class="form-group">-->
                                <!--<ngb-timepicker [(ngModel)]="hora_inicio"-->
                                                <!--[ngModelOptions]="{standalone: true}">-->

                                <!--</ngb-timepicker>-->
                            <!--</div>-->
                        <!--</div>-->
                        <div class="col-sm-6" style="">
                            <div class="form-group">
                                <label>Fecha Fin</label>
                                <div class="btn-group">
                                    <input
                                            class="form-control"
                                            placeholder="dd/mm/aaaa"
                                            name="dp2"
                                            ngbDatepicker
                                            #d2="ngbDatepicker"
                                            [(ngModel)]="fecha_fin"
                                            [ngModelOptions]="{standalone: true}"/>
                                    <button
                                            class="btn btn-primary btn-group-icon btn-group-divider"
                                            (click)="d2.toggle()">
                                        <i class="fa fa-calendar" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!--<div class="col-sm-3">-->
                            <!--<div class="form-group">-->
                                <!--<ngb-timepicker [(ngModel)]="hora_fin"-->
                                                <!--[ngModelOptions]="{standalone: true}">-->

                                <!--</ngb-timepicker>-->
                            <!--</div>-->
                        <!--</div>-->
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3">
                    <div class="form-group  tooltip-danger">
                        <label>$ Incremento Oferta Rapida</label>
                        <input
                                placement="bottom"
                                triggers="focus keyup keydown"
                                type="text"
                                formControlName="precio_1"
                                class="form-control"
                                id="precio_1" />
                    </div>
                </div>
                <!--div class="col-6 col-sm-3 col-md-3 col-lg-1">
                    <div class="form-check" style="margin-top:25px;">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1"
                               [checked]="pausar" (change)="pausar = !pausar">
                        <label class="form-check-label" for="exampleCheck1">Pausar</label>
                    </div>
                </div-->
            </div>
            <div class="row">

                <!--div class="col-12">
                    <label class="col-form-label">Puede ingresar estampillas buscando por Código YT, Arg o Jalil </label>
                </div-->
                <div class="col-12">
                    <div class="form-group row">
                        <div class="col-sm-5">
                          <h5 for="inputFirstName" class="col-form-label text-heading">
                              Código YT
                          </h5>
                          <label>Ingrese el código de YT y luego presione el signo más</label>
                        </div>
                        <div class="form-group col-sm-3 ">
                            <div class="input-group">
                                <input
                                        placement="bottom"
                                        triggers="focus keyup keydown"
                                        type="text"
                                        class="form-control"
                                        [(ngModel)]="codigo_yt"
                                        [ngModelOptions]="{standalone: true}"
                                        placeholder="Código YT"
                                        />
                                <div class="input-group-append">
                                    <button type="button"
                                            (click)="searchYT()"
                                            class="btn btn-primary" title="Buscar por Código YT">
                                        <span class="fa fa-plus fa-lg" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="form-group row">
                        <div class="col-sm-5">
                          <h5 for="inputFirstName" class="col-form-label text-heading">
                              Código Arg
                          </h5>
                          <label>Ingrese el código de Arg y luego presione el signo más</label>
                        </div>
                        <div class="form-group col-sm-3 ">
                            <div class="input-group">
                                <input
                                placement="bottom"
                                triggers="focus keyup keydown"
                                type="text"
                                class="form-control"
                                [(ngModel)]="codigo_arg"
                                [ngModelOptions]="{standalone: true}"
                                placeholder="Código Arg"
                                        />
                                <div class="input-group-append">
                                    <button type="button"
                                        (click)="searchArg()"
                                        class="btn btn-primary" title="Buscar por Código Arg">
                                    <span class="fa fa-plus fa-lg" aria-hidden="true"></span>
                                </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12" style="margin-top: 35px;">
                    <h3>Estampillas que conforman el Lote</h3>
                </div>
                <div class="col-12" style="margin-top: 20px;">
                    <ng2-smart-table
                            [settings]="settings"
                            [source]="source"
                            (deleteConfirm)="onDeleteConfirm($event)"
                            (delete)="onDeleteConfirm($event)" >
                    </ng2-smart-table>
                </div>
            </div>
        </form>
        <div class="btn-group" style="margin-top: 20px">
            <button
                    *ngIf="form"
                    type="button"
                    (click)="submit()"
                    class="btn btn-primary" >
                Guardar
            </button>
            <button
                    type="button"
                    (click)="pausarLote()"
                    class="btn btn-success" >
                {{boton}}
            </button>
            <button
                    *ngIf="form"
                    type="button"
                    (click)="cancel()"
                    class="btn btn-default" >
                Cancelar
            </button>
        </div>
    </nb-card-body>
</nb-card>
